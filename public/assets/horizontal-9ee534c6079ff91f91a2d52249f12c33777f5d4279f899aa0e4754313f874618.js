define(["wrap/jquery","util/util","layout/base"],function(n,t,i){"use strict";var e={maxPass:2},h=function(t){this.settings=n.extend({},e,t)};return t.inherit(h,i,{getDimensions:function(t,i){var e=0,h=0;return n.map(t,function(t){h=t.height>h?t.height:h,e+=t.width}),{width:e||i.width,height:h||i.height}},placeSprite:function(t,i,e){for(var h,n=0,r=0,s=0;n++<this.settings.maxPass;){for(r=0;r<=e.width-t.width;r++){if(t.x=r,t.y=s,!(h=this.intersection(t,i)))return i.push(t),t.show(),!0;r=h.x+h.width-1}e.width+=t.width,e.height+=t.height}return!1}}),h});